<!DOCTYPE html>
<html>

<head>
    <title>CNL</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="js/third-party/leaflet/v0.7.7/leaflet.css" />
    <link href="js/third-party/mapbox.js/plugins/leaflet-fullscreen/v0.0.2/leaflet.fullscreen.css" rel="stylesheet" />
</head>

<body>
    <div id="map" style="width: 95%; height: 500px"></div>
    <script src="js/third-party/leaflet/v0.7.7/leaflet.js"></script>
    <script src="js/third-party/mapbox.js/plugins/leaflet-fullscreen/v0.0.2/Leaflet.fullscreen.min.js"></script>
    <script src="js/vectorCollections.js" type="text/javascript"></script>
    <script>
    var attribs = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
        '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
        'Imagery Â© <a href="http://mapbox.com">Mapbox</a>';

    var access_token = 'pk.eyJ1IjoicGFjZ2VvIiwiYSI6ImE2ZmE3YTQyNmRjNTVmYTAxMWE2YWZlNGFjZjMzZWVhIn0.wRU0txw3VIEOVtyc8PCYdQ';

    var mapboxLight = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=' + access_token, {
        maxZoom: 19,
        attribution: attribs,
        id: 'mapbox.light'
    });

    var mapboxDark = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=' + access_token, {
        maxZoom: 19,
        attribution: attribs,
        id: 'mapbox.dark'
    });

    var brockville2cm = L.tileLayer('http://{s}.tile.addxy.com/brockville/{z}/{x}/{y}.png?api_key=123', {
        maxZoom: 22,
        id: 'brocvkille.2cm'
    });

    var baseLayers = {
        "Mapbox Light": mapboxLight,
        "Mapbox Dark": mapboxDark
    };

    var vectors = L.geoJson([buildingsGeoJson, aerowayGeoJson], {
        style: function(feature) {
            return {
                weight: 3,
                color: (typeof feature.properties.building === "undefined" ? "#00d493" : "#FF6000")
            };
        }
    });

    var powerlinesOverlay = L.geoJson([powerlinesGeoJson], {
        style: function(feature) {
            return {
                weight: 3,
                color: "#D42D00",
                dashArray: "5, 5, 1, 5"
            };
        }
    });
    var highwayOverlay = L.geoJson([highwaysGeoJson], {
        style: function(feature) {
            return {
                weight: 5,
                color: "#FFE873"
            };
        }
    });

    var overLays = {
        "2cm Imagery": brockville2cm,
        "Buildings": vectors,
        "Power Lines": powerlinesOverlay,
        "Roads": highwayOverlay
    };

    var map = L.map('map', {
        fullscreenControl: true,
        layers: [mapboxLight, brockville2cm, vectors]
    }).setView([44.63495584392522, -75.75195550918579], 17);

    L.control.layers(baseLayers, overLays).addTo(map);
    </script>
</body>

</html>